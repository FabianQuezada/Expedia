<div class="container" style="max-width: 1320px; padding-top: 3rem; padding-bottom: 3rem;">
  <!-- ‚úÖ HEADER -->
  <header class="d-flex justify-content-between align-items-center border-bottom pb-3 mb-4">
    <img src="assets/expedia-logo.png" alt="Expedia" style="height: 40px;" />
    <nav class="d-flex gap-3 align-items-center">
      <a href="#" class="text-decoration-none fw-bold text-dark">Anunciar una propiedad</a>
      <a href="#" class="text-decoration-none fw-bold text-dark">Atenci√≥n al cliente</a>
      <a href="#" class="text-decoration-none fw-bold text-dark">Mis viajes</a>
      <a href="#" class="btn btn-outline-dark">Iniciar Sesi√≥n</a>
    </nav>
  </header>

  <!-- ‚úÖ GALER√çA -->
  <div class="galeria-grid mb-5">
    <img src="assets/valpo1.jpg" alt="Grande" class="grande" />
    <img src="assets/playa.jpg" alt="Playa" class="chica1" />
    <img src="assets/valpo2.jpg" alt="Puerto" class="chica2" />
    <img src="assets/casa.jpg" alt="Casa ancha" class="ancha" />
  </div>

  <!-- ‚úÖ DETALLE Y MAPA -->
  <div class="bg-white rounded shadow p-4 mt-4">
    <h1 class="fw-bold mb-2" style="font-size: 1.6rem;">
      Recorrido de d√≠a completo por el puerto de Valpara√≠so y Vi√±a del Mar desde Santiago
    </h1>
    <div class="d-flex align-items-center gap-3 mb-3">
      <span class="badge bg-success text-white px-3 py-2 rounded-pill fw-semibold" style="font-size: 0.9rem;">
        ‚≠ê 9.8/10
      </span>
      <a href="#" class="text-primary text-decoration-none" style="font-size: 0.9rem;">1 mill√≥n de opiniones</a>
    </div>
    <p class="fw-bold fs-5 text-dark mb-3">CLP 80.000</p>
    <h5 class="fw-semibold">Descripci√≥n</h5>
    <p class="mb-4">
      Disfruta una excursi√≥n guiada de un d√≠a completo desde Santiago hacia la costa del Pac√≠fico, visitando dos de las
      ciudades m√°s emblem√°ticas de Chile: Valpara√≠so, con su encanto bohemio, cerros coloridos y arte urbano, y Vi√±a del
      Mar, conocida como la ‚ÄúCiudad Jard√≠n‚Äù.
    </p>
    <div class="text-end">
      <iframe src="https://maps.google.com/maps?q=Valparaiso,Chile&t=&z=12&ie=UTF8&iwloc=&output=embed" width="300"
        height="200" style="border:0;" allowfullscreen loading="lazy">
      </iframe>
    </div>
  </div>
  <!-- ‚úÖ FORMULARIO -->
  <form class="bg-white rounded shadow p-4 mt-5" [formGroup]="formulario" (ngSubmit)="reagendar()">

    <!-- ‚úÖ ALERTA √âXITO -->
    <div *ngIf="reservaExitosa" class="alert alert-success mb-4" role="alert">
      ‚úÖ ¬°Reserva reagendada con √©xito!
    </div>

    <h5 class="fw-bold mb-3">Fecha Programaci√≥n</h5>
    <p class="mb-2">Su fecha de programaci√≥n de su actividad es del <strong>04/05/2025</strong></p>
    <label for="nueva-fecha" class="form-label fw-semibold">Fecha Disponible:</label>
    <input type="date" id="nueva-fecha" class="form-control mb-4" formControlName="nuevaFecha" />

    <h5 class="fw-bold mb-3">Medio de Pago</h5>
    <div class="btn-group w-100 mb-4" role="group">
      <input type="radio" class="btn-check" name="metodoPago" id="metodoCredito" (click)="seleccionarMetodo('credito')"
        checked>
      <label class="btn btn-outline-primary" for="metodoCredito">
        <i class="bi bi-credit-card"></i> Tarjeta de Cr√©dito
      </label>

      <input type="radio" class="btn-check" name="metodoPago" id="metodoDebito" (click)="seleccionarMetodo('debito')">
      <label class="btn btn-outline-primary" for="metodoDebito">
        <i class="bi bi-credit-card-2-front-fill"></i> Tarjeta de D√©bito
      </label>

      <input type="radio" class="btn-check" name="metodoPago" id="metodoPaypal" (click)="seleccionarMetodo('paypal')">
      <label class="btn btn-outline-primary" for="metodoPaypal">
        <i class="bi bi-paypal"></i> PayPal
      </label>
    </div>
    <!-- üîΩ FORMULARIO TARJETA CR√âDITO -->
    <div *ngIf="metodoSeleccionado === 'credito'">
      <h6 class="fw-semibold mb-3">Formulario de Tarjeta de Cr√©dito</h6>
      <div class="row g-3">
        <div class="col-md-6">
          <input type="text" class="form-control" placeholder="Nombre en la tarjeta" formControlName="nombreTarjeta"
            maxlength="40"
            [ngClass]="{ 'is-invalid': formulario.get('nombreTarjeta')?.invalid && formulario.get('nombreTarjeta')?.touched }">
          <div class="invalid-feedback">Solo letras.</div>
        </div>
        <div class="col-md-6">
          <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control" placeholder="N√∫mero de tarjeta"
            maxlength="16" (keydown)="soloNumeros($event)" formControlName="numeroTarjeta"
            [ngClass]="{ 'is-invalid': formulario.get('numeroTarjeta')?.invalid && formulario.get('numeroTarjeta')?.touched }">
          <div class="invalid-feedback">Debe tener 16 d√≠gitos.</div>
        </div>
        <div class="col-md-4">
          <input type="text" inputmode="numeric" class="form-control" placeholder="MM/YY" maxlength="5"
            (keydown)="soloFecha($event)" formControlName="fechaVencimiento"
            [ngClass]="{ 'is-invalid': formulario.get('fechaVencimiento')?.invalid && formulario.get('fechaVencimiento')?.touched }">
          <div class="invalid-feedback">Formato inv√°lido (ej: 04/28).</div>
        </div>
        <div class="col-md-4">
          <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control" placeholder="CVV" maxlength="3"
            (keydown)="soloNumeros($event)" formControlName="cvv"
            [ngClass]="{ 'is-invalid': formulario.get('cvv')?.invalid && formulario.get('cvv')?.touched }">
          <div class="invalid-feedback">Debe tener 3 d√≠gitos.</div>
        </div>
      </div>
    </div>

    <!-- üîΩ FORMULARIO TARJETA D√âBITO -->
    <div *ngIf="metodoSeleccionado === 'debito'">
      <h6 class="fw-semibold mb-3">Formulario de Tarjeta de D√©bito</h6>
      <div class="row g-3">
        <div class="col-md-6">
          <input type="text" class="form-control" placeholder="Nombre en la tarjeta" formControlName="nombreDebito"
            maxlength="40"
            [ngClass]="{ 'is-invalid': formulario.get('nombreDebito')?.invalid && formulario.get('nombreDebito')?.touched }">
          <div class="invalid-feedback">Solo letras.</div>
        </div>
        <div class="col-md-6">
          <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control" placeholder="N√∫mero de tarjeta"
            maxlength="16" (keydown)="soloNumeros($event)" formControlName="numeroDebito"
            [ngClass]="{ 'is-invalid': formulario.get('numeroDebito')?.invalid && formulario.get('numeroDebito')?.touched }">
          <div class="invalid-feedback">Debe tener 16 d√≠gitos.</div>
        </div>
        <div class="col-md-4">
          <input type="text" inputmode="numeric" class="form-control" placeholder="MM/YY" maxlength="5"
            (keydown)="soloFecha($event)" formControlName="fechaDebito"
            [ngClass]="{ 'is-invalid': formulario.get('fechaDebito')?.invalid && formulario.get('fechaDebito')?.touched }">
          <div class="invalid-feedback">Formato inv√°lido (ej: 04/28).</div>
        </div>
        <div class="col-md-4">
          <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control" placeholder="CVV" maxlength="3"
            (keydown)="soloNumeros($event)" formControlName="cvvDebito"
            [ngClass]="{ 'is-invalid': formulario.get('cvvDebito')?.invalid && formulario.get('cvvDebito')?.touched }">
          <div class="invalid-feedback">Debe tener 3 d√≠gitos.</div>
        </div>
      </div>
    </div>

    <!-- üîΩ FORMULARIO PAYPAL -->
    <div *ngIf="metodoSeleccionado === 'paypal'">
      <h6 class="fw-semibold mb-3 mt-4">Cuenta de PayPal</h6>
      <div class="mb-3">
        <label class="form-label">Correo electr√≥nico de PayPal:</label>
        <input type="email" class="form-control" placeholder="usuario@paypal.com" formControlName="correoPaypal"
          [ngClass]="{ 'is-invalid': formulario.get('correoPaypal')?.invalid && formulario.get('correoPaypal')?.touched }">
        <div class="invalid-feedback">Correo no v√°lido.</div>
      </div>
      <div class="mb-3">
        <label class="form-label">Contrase√±a de PayPal:</label>
        <input type="password" class="form-control" formControlName="clavePaypal"
          [ngClass]="{ 'is-invalid': formulario.get('clavePaypal')?.invalid && formulario.get('clavePaypal')?.touched }">
        <div class="invalid-feedback">Campo obligatorio.</div>
      </div>
    </div>

    <!-- üë§ Encargado -->
    <div class="row mt-5" formGroupName="encargado">
      <h5 class="fw-semibold">Encargado de la reserva</h5>

      <div class="col-md-6 mb-2">
        <input type="text" class="form-control" placeholder="Nombre" formControlName="nombre"
          [ngClass]="{ 'is-invalid': formulario.get('encargado.nombre')?.invalid && formulario.get('encargado.nombre')?.touched }">
        <div class="invalid-feedback">Solo letras.</div>
      </div>

      <div class="col-md-6 mb-2">
        <input type="text" class="form-control" placeholder="Apellido" formControlName="apellido"
          [ngClass]="{ 'is-invalid': formulario.get('encargado.apellido')?.invalid && formulario.get('encargado.apellido')?.touched }">
        <div class="invalid-feedback">Solo letras.</div>
      </div>

      <div class="col-md-6 mb-2">
        <input type="text" class="form-control" placeholder="N¬∞ celular" formControlName="celular" inputmode="numeric"
          (keydown)="soloNumeros($event)"
          [ngClass]="{ 'is-invalid': formulario.get('encargado.celular')?.invalid && formulario.get('encargado.celular')?.touched }">
        <div class="invalid-feedback">Solo n√∫meros.</div>
      </div>

      <div class="col-md-6 mb-2">
        <input type="email" class="form-control" placeholder="Correo electr√≥nico" formControlName="correo"
          [ngClass]="{ 'is-invalid': formulario.get('encargado.correo')?.invalid && formulario.get('encargado.correo')?.touched }">
        <div class="invalid-feedback">Correo no v√°lido.</div>
      </div>
    </div>
    <!-- üë• Personas -->
    <div class="mt-4">
      <h5 class="fw-semibold text-primary">
        <i class="bi bi-people-fill me-2"></i> Personas que viajan:
      </h5>
      <p>
        <i class="bi bi-person-fill me-1"></i> Adultos: {{ datosRecibidos.adultos }}
      </p>
      <p>
        <i class="bi bi-person-circle me-1"></i> Ni√±os: {{ datosRecibidos.ninos }}
      </p>
    </div>




    <!-- Botones -->
    <div class="d-flex justify-content-end gap-2 mt-4">
      <button type="button" class="btn btn-outline-secondary" (click)="cancelar()">Cancelar</button>
      <button type="submit" class="btn btn-warning fw-semibold">Reagendar</button>
    </div>

  </form> <!-- Fin del formulario reactivo -->
</div> <!-- Fin del container -->