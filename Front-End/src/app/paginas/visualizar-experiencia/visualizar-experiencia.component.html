<div class="container py-5">
  <!-- ‚úÖ HEADER BOOTSTRAP CON RUTAS -->
  <header class="d-flex justify-content-between align-items-center border-bottom pb-3 mb-4">
    <img src="assets/expedia-logo.png" alt="Expedia" style="height: 40px;" />
    <nav class="d-flex gap-3 align-items-center">
      <a routerLink="/anuncio" class="text-decoration-none fw-bold text-dark">Anunciar una propiedad</a>
      <a href="#" class="text-decoration-none fw-bold text-dark">Atenci√≥n al cliente</a> <!-- sin funcionalidad -->
      <a routerLink="/perfil" class="text-decoration-none fw-bold text-dark">Mis viajes</a>
      <a routerLink="/login" class="btn btn-outline-dark">Iniciar Sesi√≥n</a> <!-- ‚úÖ actualizado -->
    </nav>
  </header>

  <!-- üîΩ CONTENIDO DE LA EXPERIENCIA -->
  <section class="experiencia" *ngIf="experiencia">
    <h2>{{ experiencia.ciudad }}:<br /><span>{{ experiencia.titulo }}</span></h2>

    <!-- ‚úÖ Galer√≠a igual a la de Expedia -->
    <div class="galeria-expedia">
      <div class="imagen-grande">
        <img src="assets/valpo1.jpg" alt="Imagen principal" />
      </div>

      <div class="imagenes-derecha">
        <div class="imagenes-superiores">
          <img src="assets/playa.jpg" alt="Miniatura 1" />
          <img src="assets/valpo2.jpg" alt="Miniatura 2" />
        </div>
        <div class="imagen-inferior">
          <img src="assets/casa.jpg" alt="Miniatura inferior" />
        </div>
      </div>
    </div>

    <div class="informacion">
      <div class="datos">
        <h3>Datos generales</h3>
        <ul>
          <li>Parada en Curacav√≠ para degustaci√≥n gratuita de vino y aceite de oliva</li>
          <li>Coloreadas casas de Valpara√≠so</li>
          <li>Parques y jardines de Vi√±a del Mar</li>
        </ul>

        <h3>Caracter√≠sticas</h3>
        <ul>
          <li>‚úÖ Cancelaci√≥n gratuita disponible</li>
          <li>‚è∞ {{ experiencia.duracion }}</li>
          <li>üåê Voucher m√≥vil</li>
          <li>‚ö° Confirmaci√≥n instant√°nea</li>
        </ul>

        <h3>Disponibilidad</h3>
        <div class="fechas">
          <button 
            *ngFor="let fecha of experiencia.fechasDisponibles"
            [class.seleccionada]="fecha === fechaSeleccionada"
            (click)="seleccionarFecha(fecha)">
            {{ fecha.fecha }}<br><strong>CLP {{ fecha.precio }}</strong>
          </button>
        </div>

        <div *ngIf="fechaSeleccionada" class="resumen-box">
          <div class="resumen-left">
            <p><strong>Desde Santiago:</strong> Vi√±a del Mar, Valpara√≠so y Valle de Casablanca</p>
            <p>‚è±Ô∏è {{ experiencia.duracion }}</p>
          </div>

          <div class="resumen-mid">
            <p>üë§ Personas</p>
            <div class="selector">
              <button (click)="cambiarCantidad('adultos', -1)" [disabled]="adultos <= 1">-</button>
              <span>{{ adultos }} adulto{{ adultos > 1 ? 's' : '' }}</span>
              <button (click)="cambiarCantidad('adultos', 1)">+</button>
            </div>

            <p>üßí Ni√±os</p>
            <div class="selector">
              <button (click)="cambiarCantidad('ninos', -1)" [disabled]="ninos <= 0">-</button>
              <span>{{ ninos }} ni√±o{{ ninos !== 1 ? 's' : '' }}</span>
              <button (click)="cambiarCantidad('ninos', 1)">+</button>
            </div>
          </div>

          <div class="resumen-right">
            <p>CLP {{ fechaSeleccionada?.precio }} √ó {{ adultos }} adulto{{ adultos > 1 ? 's' : '' }}</p>
            <p *ngIf="ninos > 0">+ CLP {{ ninos * 20000 }} √ó {{ ninos }} ni√±o{{ ninos > 1 ? 's' : '' }}</p>
            <p class="total"><strong>Total: CLP {{ calcularTotal() }}</strong></p>
            <button class="btn-reservar" (click)="irAPagar()">Reservar</button>
          </div>
        </div>
      </div>

      <div class="mapa">
        <iframe
          src="https://maps.google.com/maps?q=Valparaiso,Chile&t=&z=10&ie=UTF8&iwloc=&output=embed"
        ></iframe>
        <div class="rating">
          <strong>{{ experiencia.rating }}</strong> {{ experiencia.estado }}
          <div>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        </div>
      </div>
    </div>

    <div class="incluye">
      <h3>¬øQu√© incluye o no?</h3>
      <ul>
        <li *ngFor="let item of experiencia.incluye">‚úÖ {{ item }}</li>
        <li *ngFor="let item of experiencia.noIncluye">‚ùå {{ item }}</li>
      </ul>
    </div>

    <div class="descripcion">
      <h3>De qu√© se trata</h3>
      <p>{{ experiencia.descripcion }}</p>
    </div>
  </section>
</div>
